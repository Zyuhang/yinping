"use strict";!function(p){p("#header").load("header.html"),p("#footer").load("footer.html");var s=[],h=[],u=null,d=null,f=p(".crown ul");p.ajax({type:"get",url:"http://localhost/JS-2002/yinping_project/php/listdata.php"}).done(function(n){var t=JSON.parse(n),a="",i=!0,l=!1,r=void 0;try{for(var e,o=t[Symbol.iterator]();!(i=(e=o.next()).done);i=!0){var c=e.value;a+='\n                <li>\n                    <div class="music">\n                        <a href="./detail.html?sid='+c.sid+'" target="_blank">\n                            <img class="lazy" data-original="'+c.url+'" width="160" height="160"/>\n                            <p class="p">'+c.title+'</p>\n                        </a>\n                        <span id="price">￥'+c.price+"</span>\n                    </div>\n                </li>\n            "}}catch(n){l=!0,r=n}finally{try{!i&&o.return&&o.return()}finally{if(l)throw r}}f.html(a),p(function(){p(".crown img.lazy").lazyload({effect:"fadeIn"})}),s=[],h=[],d=u=null,p(".crown li").each(function(n,t){h[n]=p(this),s[n]=p(this)})}),p(".page").pagination({pageCount:4,jump:!0,coping:!0,prevContent:"上一页",nextContent:"下一页",homePage:"首页",endPage:"尾页",callback:function(n){console.log(n.getCurrent()),p.ajax({url:"http://localhost/JS-2002/yinping_project/php/listdata.php",data:{page:n.getCurrent()}}).done(function(n){var t=JSON.parse(n),a="",i=!0,l=!1,r=void 0;try{for(var e,o=t[Symbol.iterator]();!(i=(e=o.next()).done);i=!0){var c=e.value;a+='\n                        <li>\n                            <div class="music">\n                                <a href="./detail.html?sid='+c.sid+'" target="_blank">\n                                    <img class="lazy" data-original="'+c.url+'" width="160" height="160"/>\n                                    <p class="p">'+c.title+'</p>\n                                </a>\n                                <span id="price">￥'+c.price+"</span>\n                            </div>\n                        </li>\n                    "}}catch(n){l=!0,r=n}finally{try{!i&&o.return&&o.return()}finally{if(l)throw r}}f.html(a),p(function(){p(".crown img.lazy").lazyload({effect:"fadeIn"})}),s=[],h=[],d=u=null,p(".crown li").each(function(n,t){h[n]=p(this),s[n]=p(this)})})}}),p(".btn1").on("click",function(){p.each(s,function(n,t){p(".crown ul").append(t)})}),p(".btn2").on("click",function(){for(var n=0;n<h.length-1;n++)for(var t,a=0;a<h.length-n-1;a++){u=parseFloat(h[a].find("#price").html().toString().substring(1)),(d=parseFloat(h[a+1].find("#price").html().toString().substring(1)))<u&&(t=h[a],h[a]=h[a+1],h[a+1]=t)}p.each(h,function(n,t){console.log(t),p(".crown ul").append(t)})}),p(".btn3").on("click",function(){for(var n=0;n<h.length-1;n++)for(var t,a=0;a<h.length-n-1;a++){u=parseFloat(h[a].find("#price").html().toString().substring(1)),d=parseFloat(h[a+1].find("#price").html().toString().substring(1)),u<d&&(t=h[a],h[a]=h[a+1],h[a+1]=t)}p.each(h,function(n,t){p(".crown ul").append(t)})})}(jQuery);